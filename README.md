<div align="center">
<h1><a href="https://pypi.org/project/tikhub">TikHub-API-Python-SDK</a></h1>
<a href="https://github.com/TikHubIO/TikHub-API-Python-SDK/blob/main/README.en.md">English</a> | <a href="https://github.com/TikHubIO/TikHub-API-Python-SDK/blob/main/README.md">ç®€ä½“ä¸­æ–‡</a>
</div>

#### **ç®€ä»‹**

ğŸ‰ã€Œ[TikHub.io](https://tikhub.io/)ã€æ˜¯ä¸€ä¸ª**å¼€ç®±å³ç”¨çš„é›†æˆå·¥å…·ä»¥åŠæœåŠ¡çš„å¹³å°**ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¸®åŠ©ç”¨æˆ·å¿«é€Ÿå¼€å±•ä¸šåŠ¡ï¼Œå¹¶ä¸”æ”¯æŒåŠŸèƒ½å®šåˆ¶ã€‚æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯ç»„å»ºä¸€ä¸ªç¤¾åŒºåˆ›ä¸šé¡¹ç›®ï¼Œç‹¬æœ¨éš¾æˆæ—ï¼Œåˆä½œèƒ½å…±èµ¢ï¼Œ**æ¯ä¸€ä¸ªç¤¾åŒºæˆå‘˜éƒ½æœ‰æœºä¼šå°†ä»–ä»¬ç¼–å†™çš„åŠŸèƒ½æˆ–æ¥å£æ¥å…¥æˆ‘ä»¬çš„å¹³å°ï¼Œå¹¶ä¸”ä»ä¸­è·å¾—æ”¶ç›Š**ã€‚æˆ‘ä»¬å·²ç»ç§¯ç´¯äº†å¤§é‡çš„æ³¨å†Œç”¨æˆ·ä»¥åŠç¤¾åŒºç”¨æˆ·ï¼Œå¹¶ä¸”ä¸ºäº†å®ç°è¿™ä¸€æ„¿æ™¯ï¼Œæˆ‘ä»¬æ­£åœ¨ç§¯æç­¹åˆ’å’Œè½å®åˆä½œç­–ç•¥ï¼Œä»¥ç¡®ä¿ç”Ÿæ€çš„æŒç»­å¥åº·å‘å±•ï¼Œæ¬¢è¿å„ä½åŠ å…¥æˆ‘ä»¬çš„[Discord](https://discord.gg/aMEAS8Xsvz)ç¤¾åŒºã€‚

---

#### **å¿«é€Ÿå¼€å§‹**

[TikHub.io](https://tikhub.io/)çš„å¤§å¤šæ•°APIéƒ½æ˜¯RESTFULçš„ï¼Œè¿™æ„å‘³ç€ä½ åªéœ€è¦ä½¿ç”¨åŸºæœ¬çš„HTTPè¯·æ±‚å³å¯å®Œæˆè°ƒç”¨ã€‚

æ‰€æœ‰çš„APIéƒ½æ˜¯åŸºäºOPenAPIè§„èŒƒè¿›è¡Œç¼–å†™çš„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„`openapi.json`è‡ªåŠ¨ç”Ÿæˆä»»ä½•å½¢å¼çš„APIæ–‡æ¡£ï¼š

[https://api.tikhub.io/openapi.json](https://api.tikhub.io/openapi.json)

å½“ç„¶ï¼Œæˆ‘ä»¬å·²ç»é»˜è®¤ä½¿ç”¨äº†Swagger UIæ¥å±•ç¤ºæˆ‘ä»¬çš„APIæ–‡æ¡£ï¼Œä½ å¯ä»¥åœ¨ç½‘é¡µä¸Šæ‰“å¼€ä¸‹é¢çš„é“¾æ¥ï¼Œç„¶ååœ¨ç½‘é¡µä¸Šè¿›è¡ŒAPI Tokençš„è®¤è¯ï¼Œéšåç‚¹å‡»ä»»æ„ç«¯ç‚¹ç„¶åç‚¹å‡»`Try it out`å³å¯æµ‹è¯•ä½ æ‰€éœ€è¦çš„ç«¯ç‚¹ï¼Œå¤§å¤šæ•°ç«¯ç‚¹éƒ½å·²ç»æºå¸¦äº†é»˜è®¤å€¼æˆ–æ¼”ç¤ºå€¼ï¼Œè¿™ä¼šæ›´å¥½çš„å¸®åŠ©ä½ ç†è§£è°ƒç”¨çš„æ‰€éœ€å‚æ•°ï¼š

[https://api.tikhub.io](https://api.tikhub.io)

---

#### **é‰´æƒ**

> ç®€ä»‹

æ¥å£æ–‡æ¡£ä¸­å¸¦æœ‰ğŸ”’å›¾æ ‡çš„ç«¯ç‚¹éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦API Tokenæ‰å¯ä»¥è°ƒç”¨ï¼Œè°ƒç”¨è¿™äº›æ¥å£ä¼šä½¿ç”¨ä½ è´¦æˆ·ä¸­çš„å‰©ä½™å…è´¹é¢åº¦æˆ–è´¦æˆ·ä½™é¢ï¼ŒåŒæ—¶æ¯ä¸€ä¸ªç«¯ç‚¹è¿˜ä¼šæ ¹æ®API Tokenæ‰€æœ‰è€…çš„emailåœ°å€è¿›è¡Œè¯·æ±‚é€Ÿç‡çš„é™åˆ¶ï¼Œæ¯ä¸ªç«¯ç‚¹ä¹‹é—´éƒ½æœ‰å½¼æ­¤ç‹¬ç«‹çš„RPSï¼ˆRequests per secondï¼‰ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç”¨æˆ·å¯ä»¥æ¯ç§’è¯·æ±‚5æ¬¡åŒä¸€ä¸ªç«¯ç‚¹ã€‚

> ç”ŸæˆAPI Token

è·å–API Tokençš„æ­¥éª¤ä¹Ÿå¾ˆç®€å•ï¼Œä½ åªéœ€è¦ç™»å½•åˆ°æˆ‘ä»¬çš„ç”¨æˆ·åå° [TikHub User](https://tikhub.io/users/api_keys)ï¼Œç„¶åç‚¹å‡»å·¦ä¾§çš„`API Keys`å°±å¯ä»¥ç”Ÿæˆä½ è‡ªå·±çš„API Tokenï¼ŒåŒæ—¶ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰API Tokençš„æƒé™ï¼ˆ`Scopes`ï¼‰ï¼Œä¹Ÿå¯ä»¥è®¾ç½®API Tokençš„è¿‡æœŸæ—¥æœŸï¼ˆ`Expire Date`ï¼‰ï¼Œè¿˜å¯ä»¥æ‰‹åŠ¨æš‚æ—¶å…³é—­API Tokenï¼ˆ`Status`ï¼‰ã€‚

> åœ¨APIæ–‡æ¡£ç½‘é¡µä¸Šä½¿ç”¨

å½“ä½ å®Œæˆä¸Šé¢çš„æ­¥éª¤åï¼Œä½ å¯ä»¥å¤åˆ¶ä½ çš„API Tokenï¼Œç„¶åå›åˆ°æˆ‘ä»¬çš„Swagger UIç½‘é¡µï¼Œç‚¹å‡»é¡µé¢å³ä¾§çš„ç»¿è‰²`Authorize`ï¼Œç„¶ååœ¨å¼¹çª—åº•éƒ¨çš„`Value`è¾“å…¥æ¡†ä¸­ç²˜è´´API Tokenå³å¯å®Œæˆé‰´æƒã€‚

> åœ¨HTTPè¯·æ±‚ä¸­ä½¿ç”¨

å¦‚æœä½ æƒ³åœ¨HTTPè¯·æ±‚ä¸­æºå¸¦API Tokenï¼Œè¯·ä»”ç»†é˜…è¯»ä¸‹æ–¹çš„æ ¼å¼ï¼Œå¹¶ä¸”éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ä¸€ä¸ªå«`Authorization`çš„å­—æ®µï¼Œä¸‹é¢æˆ‘å°†ç»™å‡ºä¸€ä¸ªJSONä½œä¸ºheaderçš„ç¤ºèŒƒï¼š

{

"Authorization":"Bearer Your_API_Token"

}

> å¤‡æ³¨

è¯·ä¸è¦åˆ†äº«ä½ çš„API Tokenï¼Œè¿™å¯èƒ½ä¼šé€ æˆä½ çš„è´¢äº§æŸå¤±ç­‰ä¸€äº›åˆ—é—®é¢˜ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ä¸ºä½ çš„æ¯ä¸€ä¸ªé¡¹ç›®éƒ½ä½¿ç”¨ä¸åŒçš„API Tokenï¼ŒåŒæ—¶ä¸è¦å¿˜è®°åœ¨åˆ›å»ºAPI Tokenæ—¶å‹¾é€‰å¯¹åº”çš„`Scopes`ï¼Œå¦åˆ™åœ¨è¯·æ±‚æ—¶ä¼šé‡åˆ°æƒé™ä¸è¶³çš„é—®é¢˜ã€‚

---

## **ä½¿ç”¨SDK**

- é€šè¿‡PyPiå®‰è£…æˆ‘ä»¬çš„[SDK](https://pypi.org/project/tikhub/)

```console
pip install tikhub
```

- å¯¼å…¥SDK

```python
from tikhub import Client
```

- åˆå§‹åŒ–Client

```python
client = Client(base_url="https://api.tikhub.io", 
                api_key="YOUR_API_TOKEN",
                proxies=None,
                max_retries=3,
                max_connections=50,
                timeout=10,
                max_tasks=50)
```

- è¯·æ±‚ç”¨æˆ·æ•°æ®ç¤ºä¾‹

```python
# è¯·æ±‚ç”¨æˆ·ä¿¡æ¯ | Request user info
user_info = await client.TikHubUser.get_user_info()
print(user_info)

# è¯·æ±‚ç”¨æˆ·æ¯æ—¥ä½¿ç”¨æƒ…å†µ | Request user daily usage
user_daily_usage = await client.TikHubUser.get_user_daily_usage()
print(user_daily_usage)

# è®¡ç®—ä»·æ ¼ | Calculate price
price = await client.TikHubUser.calculate_price(endpoint="/api/v1/douyin/app/v1/fetch_one_video", request_per_day=100)
print(price)

# è·å–é˜¶æ¢¯å¼æŠ˜æ‰£ç™¾åˆ†æ¯”ä¿¡æ¯ | Get tiered discount percentage information
tiered_discount_info = await client.TikHubUser.get_tiered_discount_info()
print(tiered_discount_info)

# è·å–ä¸€ä¸ªç«¯ç‚¹çš„ä¿¡æ¯ | Get information of an endpoint
endpoint_info = await client.TikHubUser.get_endpoint_info(endpoint="/api/v1/douyin/app/v1/fetch_one_video")
print(endpoint_info)

# è·å–æ‰€æœ‰ç«¯ç‚¹ä¿¡æ¯ | Get all endpoints information
all_endpoints_info = await client.TikHubUser.get_all_endpoints_info()
print(all_endpoints_info)
```

- Clientä¸­çš„å¯ç”¨å±æ€§

```python
# TikHub
self.TikHubUser = TikHubUser(self.client)

# Douyin
self.DouyinWeb = DouyinWeb(self.client)
self.DouyinAppV1 = DouyinAppV1(self.client)
self.DouyinAppV2 = DouyinAppV2(self.client)
self.DouyinAppV3 = DouyinAppV3(self.client)

# TikTok
self.TikTokWeb = TikTokWeb(self.client)
self.TikTokAppV2 = TikTokAppV2(self.client)
self.TikTokAppV3 = TikTokAppV3(self.client)

# Instagram
self.InstagramWeb = InstagramWeb(self.client)

# Weibo
self.WeiboWeb = WeiboWeb(self.client)

# Captcha Solver
self.CaptchaSolver = CaptchaSolver(self.client)
```

- ä½¿ç”¨`DouyinAppV1`çš„`fetch_one_video`æ–¹æ³•è°ƒç”¨æ¥å£è·å–å•ä¸€è§†é¢‘æ•°æ®ã€‚

```python
# è·å–å•ä¸ªä½œå“æ•°æ® | Get single video data
video_data = await client.DouyinAppV1.fetch_one_video(aweme_id="7345492945006595379")
print(video_data)
```

- æˆ‘ä»¬å·²ç»ä½¿ç”¨HTTPXçš„å¯¹å¤§å¤šæ•°ç«¯ç‚¹è¿›è¡Œäº†å¼‚æ­¥å°è£…ï¼Œå¦‚æœä½ çš„ä»£ç æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç é˜²æ­¢å¼‚æ­¥ä¼ æŸ“ã€‚

```python
import asyncio

# è·å–æŠ–éŸ³å•ä¸€è§†é¢‘æ•°æ® | Get a single video data from Douyin
def fetch_one_video(aweme_id: str):
    # ä½¿ç”¨asyncio.runé˜²æ­¢å¼‚æ­¥ä¼ æŸ“åˆ°å…¶ä»–ä»£ç 
    # Use asyncio.run to prevent asynchronous infection to other code
    return asyncio.run(client.DouyinAppV1.fetch_one_video(aweme_id=aweme_id))


video_data = fetch_one_video(aweme_id="7372484719365098803")
print(video_data)
```

- ç”±äºç« èŠ‚æœ‰é™ï¼Œåœ¨æ­¤å¤„å°±ä¸åˆ—å‡ºå®Œæ•´çš„æ–¹æ³•äº†ï¼Œä½ å¯ä»¥é€šè¿‡æŸ¥çœ‹æºä»£ç çš„å½¢å¼æŸ¥çœ‹æ¯ä¸€ä¸ªå±æ€§å†…å®ç°çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ¯ä¸ªæ–¹æ³•æ¥å—çš„å‚æ•°éƒ½å·²ç»åŠ ä¸Šäº†`type hints`ã€‚
